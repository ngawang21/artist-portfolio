---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { artworks } from '../../data/artworks';
import { useTranslations } from '../../i18n/utils';

const t = useTranslations('fr');
---

<BaseLayout title="Galerie - Portfolio d'Artiste">
  <section class="py-20">
    <div class="container mx-auto px-4">
      <h1 class="font-serif text-5xl md:text-6xl font-bold text-center mb-4">
        {t('gallery.title')}
      </h1>
      <p class="text-center text-gray-600 text-lg mb-16 max-w-2xl mx-auto">
        Explorez ma collection d'œuvres d'art contemporaines, chaque pièce racontant sa propre histoire unique.
      </p>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {artworks.map((artwork) => (
          <div 
            id={artwork.id}
            class="group bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300"
          >
            <div class="aspect-[4/3] overflow-hidden relative">
              <img 
                src={artwork.image} 
                alt={artwork.title.fr}
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                loading="lazy"
              />
              {artwork.sold && (
                <div class="absolute inset-0 bg-black/60 flex items-center justify-center">
                  <span class="bg-white text-primary px-6 py-2 rounded-md font-bold text-lg">
                    {t('gallery.sold')}
                  </span>
                </div>
              )}
            </div>
            
            <div class="p-6">
              <h3 class="font-serif text-2xl font-semibold mb-2">{artwork.title.fr}</h3>
              <p class="text-gray-600 mb-4 line-clamp-2">{artwork.description.fr}</p>
              
              <div class="space-y-2 mb-4 text-sm text-gray-500">
                <p><strong>{t('gallery.dimensions')}:</strong> {artwork.dimensions}</p>
                <p><strong>Technique:</strong> {artwork.medium}</p>
                <p><strong>Année:</strong> {artwork.year}</p>
              </div>
              
              <div class="flex justify-between items-center pt-4 border-t border-gray-100">
                <span class="font-bold text-accent text-2xl">
                  €{artwork.price.toLocaleString()}
                </span>
                
                {!artwork.sold && artwork.mollieLink && (
                  <a 
                    href={artwork.mollieLink}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="px-6 py-2 bg-primary text-white rounded-md hover:bg-gray-800 transition-colors font-medium"
                  >
                    {t('gallery.buy')}
                  </a>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <style>
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
  </style>
</BaseLayout>

